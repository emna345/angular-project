<nav class="navbar navbar-expand-lg navbar-light">
  <div class="collapse navbar-collapse" id="navbarTogglerDemo03">
    <select class="custom-select"[(ngModel)]="selectedUserId"  (change)="onSelectUser()">
      <option selected>select un athléte</option>
      <option *ngFor="let user of users"[value]="user.id" >{{user.nom}}&nbsp;{{user.prenom}}</option>
      
    </select>

    
  </div>
</nav>


<div  class="container" style="margin-bottom: 50px;  margin-top: 50px;">
  <div class="row">
    <div class="col-md-6">
      <form class="">
        <div class="row">
          <div class="col-md-4">
        
          <h6>Date:</h6>
          <input type="date" [(ngModel)]="selectedDate" class="form-control" style="width: 200px;">
        </div>
    
        <div class="col-md-4">
        <div >
          <button class="btn btn-primary" style="margin-top: 20px; background-color: rgb(181, 181, 181);color: rgba(46, 43, 43, 0.721);" (click)="updatemodal(selectedUserId)">Mise à jour</button>
        </div></div></div>
        <div class="mb-4">
          <h2 style="color: #2596be; font-size: 20px; font-weight: normal;  letter-spacing: 0.2em;">Habitudes alimentaires</h2>
        </div>

        <div class="mb-3 row">
          <div class="col-md-8">
          <label for="encographie" class="form-label" ><h2> Nombre d'entraînements par semaine :</h2></label>
          <input type="text" class="form-control" id="encographie" style="width:1000px;"  [(ngModel)]="nbrentrainement"[ngModelOptions]="{standalone: true}">
        </div>

        <div class="col-md-8">
          <label for="testBiologique" class="form-label"><h2> Durée moyenne des entraînements p ar semaine :</h2></label>
          <input type="time" class="form-control" id="testBiologique" style="width:1000px;"  [(ngModel)]="dureemoy"[ngModelOptions]="{standalone: true}">
        </div></div>
      
        <div class="mb-3 row">
          <div class="col-md-8">
          <label for="encographie" class="form-label" ><h2> Nombre de repas par semaine :</h2></label>
          <input type="number" class="form-control" id="nbrrepas" style="width:1000px;  margin-bottom: 20px;"  [(ngModel)]="nbrrepas" [ngModelOptions]="{standalone: true}">
        </div></div>

        <div class="mb-4">
          
          <label for="encographie" class="form-label" ><h2> Aliment consommé leur de repas  :</h2></label>
          <!--input type="number" class="form-control" id="nbrrepas" style="width:1000px;  margin-bottom: 20px;"  [(ngModel)]="alimentconsom" [ngModelOptions]="{standalone: true}"-->
          <!--textarea  type="text" class="form-control" id="nbrrepas" style="width:1000px;  margin-bottom: 20px;"  [(ngModel)]="alimentconsom" [ngModelOptions]="{standalone: true}"></textarea-->
        </div>
        <div class="mb-3 row">
          <div class="col-md-6">
            <label  class="form-label">Type :</label>
            <input type="text" class="form-control" id="type"  [(ngModel)]="type"[ngModelOptions]="{standalone: true}" style="width: 1000px;">
          </div></div>
          <div class="mb-3 row">
          <div class="col-md-6">
            <label  class="form-label">Consomation protéins: </label>
            <input type="text" class="form-control" id="proteine" style="width:1000px" [(ngModel)]="proteine"[ngModelOptions]="{standalone: true}">
          </div>
        </div>
        <div class="mb-3 row">
          <div class="col-md-6">
            <label  class="form-label">Consomation glucides:</label>
            <input type="text" class="form-control" id="glucide" style="width:1000px"  [(ngModel)]="glucide"[ngModelOptions]="{standalone: true}">
          </div></div>
          <div class="mb-3 row">
          <div class="col-md-6">
            <label  class="form-label">Consomation de matiérs grasse:</label>
            <input type="text" class="form-control" id="grasse" style="width:1000px;" [(ngModel)]="grasse"[ngModelOptions]="{standalone: true}">
          </div>
        </div>

        <div class="mb-4">
          <h2 style="margin-bottom: 10px;">Consomation de fruits et légumes  : </h2>
        </div>
        <div class="mb-3 row">
          <div class="col-md-6">
            <label  class="form-label">Type de fruit et légumes:</label>
            <input type="text" class="form-control" id="nomfruit"  [(ngModel)]="nomfruit"[ngModelOptions]="{standalone: true}">
          </div>

          <div class="col-md-6">
            <label  class="form-label">Quantité </label>
            <input type="text" class="form-control" id="quantite"  [(ngModel)]="quantite"[ngModelOptions]="{standalone: true}">
          </div>
        </div>
        <div class="mb-3 row">
          <div class="col-md-8">
            <label  class="form-label">Les portions:</label>
            <input type="text" class="form-control" id="portions"  [(ngModel)]="portions"[ngModelOptions]="{standalone: true}">
          </div></div>

   
                <div class="mb-3 row">
          <div class="col-md-6">
            <label for="testAsate" class="form-label" style="font-size: 19px; margin-bottom: 35px;">Prise de médicaments  :</label>
          </div>

          <table class="table">
            <thead>
              <tr>
                <th>Nom de medicament</th>
                <th>jour</th>
                <th>Prise</th>
             
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let medication of medications; let i = index">
                <td><input type="text" placeholder="" [(ngModel)]="medication.nom" [ngModelOptions]="{ standalone: true }"></td>
                <td><input type="text" placeholder="" [(ngModel)]="medication.prise" [ngModelOptions]="{ standalone: true }"></td>
                <td><input type="text" placeholder="" [(ngModel)]="medication.jour" [ngModelOptions]="{ standalone: true }"></td>
                <td>
                  <button class="btn btn-sm btn-danger" (click)="deleteMedication(i)">supprimer</button>
                </td>
              </tr>
              <tr>
                <td colspan="3">
                  <button class="btn btn-sm btn-success" (click)="addMedication()">ajouter</button>
                </td>
              </tr>
          
            
            </tbody>
          </table>
        </div>
        <div class="mb-3 d-flex justify-content-start">
         
          <div>
            <button type="submit" class="btn btn-next" (click)="envoyer(selectedUserId)">Envoyer</button>
          </div>
        </div>
      
      </form>
  
  </div>

</div>

<ng-template #modalContent let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">Modification</h4>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <form class="">
    
        <div class="row">
          <div class="col-md-4">
        
          <h6>Date:</h6>
          <input type="date" [(ngModel)]="selectedDate" class="form-control" style="width: 200px;">
        </div>
    </div>
        <div class="mb-4">
          <h2 style="color: #2596be; font-size: 20px; font-weight: normal;  letter-spacing: 0.2em;">Habitudes alimentaires</h2>
        </div>

        <div class="mb-3 row">
          <div class="col-md-8">
          <label for="encographie" class="form-label" ><h2> Nombre d'entraînements par semaine :</h2></label>
          <input type="text" class="form-control" id="encographie" style="width:1000px;"  [(ngModel)]="bilans.nbrentrainement"[ngModelOptions]="{standalone: true}">
        </div>

        <div class="col-md-8">
          <label for="testBiologique" class="form-label"><h2> Durée moyenne des entraînements p ar semaine :</h2></label>
          <input type="time" class="form-control" id="testBiologique" style="width:1000px;"  [(ngModel)]="bilans.dureemoy"[ngModelOptions]="{standalone: true}">
        </div></div>
      
        <div class="mb-3 row">
          <div class="col-md-8">
          <label for="encographie" class="form-label" ><h2> Nombre de repas par semaine :</h2></label>
          <input type="number" class="form-control" id="nbrrepas" style="width:1000px;  margin-bottom: 20px;"  [(ngModel)]="bilans.nbrrepas" [ngModelOptions]="{standalone: true}">
        </div></div>

        <div class="mb-4">
          
          <label for="encographie" class="form-label" ><h2> Aliment consommé leur de repas  :</h2></label>
          <!--input type="number" class="form-control" id="nbrrepas" style="width:1000px;  margin-bottom: 20px;"  [(ngModel)]="alimentconsom" [ngModelOptions]="{standalone: true}"-->
          <!--textarea  type="text" class="form-control" id="nbrrepas" style="width:1000px;  margin-bottom: 20px;"  [(ngModel)]="alimentconsom" [ngModelOptions]="{standalone: true}"></textarea-->
        </div>
        <div class="mb-3 row">
          <div class="col-md-6">
            <label  class="form-label">Type :</label>
            <input type="text" class="form-control" id="nomfruit"  [(ngModel)]="bilans.type"[ngModelOptions]="{standalone: true}" style="width: 1000px;">
          </div></div>
          <div class="mb-3 row">
          <div class="col-md-6">
            <label  class="form-label">Consomation protéins: </label>
            <input type="text" class="form-control" id="quantite" style="width:1000px" [(ngModel)]="bilans.proteine"[ngModelOptions]="{standalone: true}">
          </div>
        </div>
        <div class="mb-3 row">
          <div class="col-md-6">
            <label  class="form-label">Consomation glucides:</label>
            <input type="text" class="form-control" id="poitions" style="width:1000px"  [(ngModel)]="bilans.glucide"[ngModelOptions]="{standalone: true}">
          </div></div>
          <div class="mb-3 row">
          <div class="col-md-6">
            <label  class="form-label">Consomation de matiérs grasse:</label>
            <input type="text" class="form-control" id="poitions" style="width:1000px;" [(ngModel)]="bilans.grasse"[ngModelOptions]="{standalone: true}">
          </div>
        </div>

        <div class="mb-4">
          <h2 style="margin-bottom: 10px;">Consomation de fruits et légumes  : </h2>
        </div>
        <div class="mb-3 row">
          <div class="col-md-6">
            <label  class="form-label">Type de fruit et légumes:</label>
            <input type="text" class="form-control" id="nomfruit"  [(ngModel)]="bilans.nomfruit"[ngModelOptions]="{standalone: true}">
          </div>

          <div class="col-md-6">
            <label  class="form-label">Quantité </label>
            <input type="text" class="form-control" id="quantite"  [(ngModel)]="bilans.quantite"[ngModelOptions]="{standalone: true}">
          </div>
        </div>
        <div class="mb-3 row">
          <div class="col-md-8">
            <label  class="form-label">Les portions:</label>
            <input type="text" class="form-control" id="poitions"  [(ngModel)]="bilans.portions"[ngModelOptions]="{standalone: true}">
          </div></div>

   
                <div class="mb-3 row">
          <div class="col-md-6">
            <label for="testAsate" class="form-label" style="font-size: 19px; margin-bottom: 35px;">Prise de médicaments  :</label>
          </div>

          <table class="table">
            <thead>
              <tr>
                <th>Nom de medicament</th>
                <th>jour</th>
                <th>Prise</th>
             
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let medication of medications; let i = index">
                <td><input type="text" placeholder="" [(ngModel)]="bilans.nom" [ngModelOptions]="{ standalone: true }"></td>
                <td><input type="text" placeholder="" [(ngModel)]="bilans.prise" [ngModelOptions]="{ standalone: true }"></td>
                <td><input type="text" placeholder="" [(ngModel)]="bilans.jour" [ngModelOptions]="{ standalone: true }"></td>
                <td>
            
          
            
            </tbody>
          </table>
        </div>
   
    
    </form>
    </div>

  <div class="modal-footer">
    <button type="button" class="btn btn-primary" (click)="updateUser(selectedUserId)">Sauvgarder</button>

    <button type="button" class="btn btn-primary" (click)="modal.close('Close click')">fermer</button>
  </div>
</ng-template>
       
